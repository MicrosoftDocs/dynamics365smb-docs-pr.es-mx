---
title: Configurar y generar informes DIOT | Microsoft Docs
description: Utilice esta extensión para configurar y generar declaraciones DIOT en Business Central para las autoridades mexicanas.
author: sorenfriisalexandersen
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms. search.keywords: extension, diot, authorities, export, compliance
ms.date: 10/01/2020
ms.author: soalex
ms.openlocfilehash: 77ddb3548bb9955d76321f9e2daa0f4be186be36
ms.sourcegitcommit: ddbb5cede750df1baba4b3eab8fbed6744b5b9d6
ms.translationtype: HT
ms.contentlocale: es-MX
ms.lasthandoff: 10/01/2020
ms.locfileid: "3919923"
---
# <a name="set-up-and-generate-diot-reports"></a><span data-ttu-id="deaf4-103">Configurar y generar informes DIOT</span><span class="sxs-lookup"><span data-stu-id="deaf4-103">Set Up and Generate DIOT Reports</span></span>

<span data-ttu-id="deaf4-104">Al ser una empresa en México, debe informar sobre el IVA de las compras de los proveedores a la autoridad del gobierno mexicano: SAT (Servicio de Administración Tributaria).</span><span class="sxs-lookup"><span data-stu-id="deaf4-104">As a company in Mexico, you must report VAT from vendor purchases to the Mexican government, to SAT - Servicio de Administración Tributaria.</span></span> <span data-ttu-id="deaf4-105">Esto se puede hacer en [!INCLUDE[d365fin](../../includes/d365fin_md.md)] mediante la generación de un archivo que puede cargarse al SAT.</span><span class="sxs-lookup"><span data-stu-id="deaf4-105">This can be done in [!INCLUDE[d365fin](../../includes/d365fin_md.md)] by generating a file that can be uploaded to SAT.</span></span> <span data-ttu-id="deaf4-106">En este tema se describe cómo instalar la funcionalidad y generar el informe.</span><span class="sxs-lookup"><span data-stu-id="deaf4-106">This topic describes how to set up the functionality and generate the report.</span></span> <span data-ttu-id="deaf4-107">La funcionalidad de informe DIOT (Declaración Informativa de Operaciones con Terceros) se ha creado como una extensión (aplicación) para [!INCLUDE[d365fin](../../includes/d365fin_md.md)] y está preinstalada en la versión en línea, pero debe instalarse manualmente en la versión local de [!INCLUDE[d365fin](../../includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="deaf4-107">The DIOT (Declaración Informativa de Operaciones con Terceros) report functionality is created as an extension (app) for [!INCLUDE[d365fin](../../includes/d365fin_md.md)] and is preinstalled in the online version but must be installed manually in the on-premises version of [!INCLUDE[d365fin](../../includes/d365fin_md.md)].</span></span>

## <a name="what-does-this-extensions-handle"></a><span data-ttu-id="deaf4-108">¿Qué es lo que manejan estas extensiones?</span><span class="sxs-lookup"><span data-stu-id="deaf4-108">What Does this Extensions Handle?</span></span>
<span data-ttu-id="deaf4-109">La extensión proporciona las siguientes capacidades:</span><span class="sxs-lookup"><span data-stu-id="deaf4-109">The extension provides the following capabilities:</span></span>
* <span data-ttu-id="deaf4-110">Configuración de la información relacionada con la DIOT</span><span class="sxs-lookup"><span data-stu-id="deaf4-110">Setup of the DIOT-related information</span></span>
* <span data-ttu-id="deaf4-111">Configuración del proveedor</span><span class="sxs-lookup"><span data-stu-id="deaf4-111">Vendor settings</span></span>
* <span data-ttu-id="deaf4-112">Exportar el informe DIOT para que pueda ser cargado a las autoridades</span><span class="sxs-lookup"><span data-stu-id="deaf4-112">Export the DIOT report so it can be uploaded to the authorities</span></span>

## <a name="setup-of-the-mexican-diot-extension"></a><span data-ttu-id="deaf4-113">Configuración de la Extensión DIOT mexicana</span><span class="sxs-lookup"><span data-stu-id="deaf4-113">Setup of the Mexican DIOT Extension</span></span>
<span data-ttu-id="deaf4-114">La extensión DIOT se configura a través de la función de Configuración Asistida, que proporciona una guía fácil, paso a paso, para empezar a utilizar las DIOT en [!INCLUDE[d365fin](../../includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="deaf4-114">You set up the DIOT extension through Assisted Setup, which provides an easy, step-by-step guide for getting started with DIOT in [!INCLUDE[d365fin](../../includes/d365fin_md.md)].</span></span> <span data-ttu-id="deaf4-115">En caso sea necesario, puede ejecutar la guía varias veces hasta que se complete la configuración.</span><span class="sxs-lookup"><span data-stu-id="deaf4-115">If needed, you can run the guide several times until the setup is completed.</span></span>

1. <span data-ttu-id="deaf4-116">En [!INCLUDE[d365fin](../../includes/d365fin_md.md)], elija el icono ![Bombilla que abre la función Dígame](../../media/ui-search/search_small.png "Dígame qué desea hacer"), escriba **Configuración asistida** y luego elija el enlace relacionado.</span><span class="sxs-lookup"><span data-stu-id="deaf4-116">In [!INCLUDE[d365fin](../../includes/d365fin_md.md)], choose the ![Lightbulb that opens the Tell Me feature](../../media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.</span></span>  
2. <span data-ttu-id="deaf4-117">Seleccione la acción **Configurar DIOT**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-117">Choose the **Set Up DIOT** action.</span></span>
3. <span data-ttu-id="deaf4-118">La primera página de la guía de configuración explica lo que está a punto de configurar.</span><span class="sxs-lookup"><span data-stu-id="deaf4-118">The first page in the setup guide explains what you are about to set up.</span></span> <span data-ttu-id="deaf4-119">Elija el botón **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-119">Choose the **Next** button.</span></span>
4. <span data-ttu-id="deaf4-120">En el campo **Tipo de operación predeterminada de DIOT de proveedor**, seleccione la clase de operación por defecto que desea configurar en los proveedores del sistema.</span><span class="sxs-lookup"><span data-stu-id="deaf4-120">In the in **Default Vendor DIOT Type of Operation** field, choose the default type of operation that you want to be set on vendors in the system.</span></span>

    <span data-ttu-id="deaf4-121">A cada entrada del informe se le debe asignar un valor de **Tipo de operación**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-121">Every entry in the report must be assigned a **Type of Operation** value.</span></span> <span data-ttu-id="deaf4-122">Existen tres tipos válidos: **Servicios prof.**, **Arrendamiento y alquiler**, y **Otros**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-122">There are three valid types: **Prof. Services**, **Lease and Rent**, and **Others**.</span></span> <span data-ttu-id="deaf4-123">No se le permite reportar el tipo de operación **Arrendamiento y alquiler** para un proveedor que no sea local.</span><span class="sxs-lookup"><span data-stu-id="deaf4-123">You are not allowed to report the **Lease and Rent** type of operation for a vendor that is not local.</span></span> <span data-ttu-id="deaf4-124">Todos los proveedores se actualizarán con la configuración que se elija aquí.</span><span class="sxs-lookup"><span data-stu-id="deaf4-124">All vendors will be updated with the setting chosen here.</span></span>

5. <span data-ttu-id="deaf4-125">Seleccione un valor en el campo **Tipo de operación** y, a continuación, seleccione el botón **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-125">Choose a value in the **Type of Operation** field, and then choose the **Next** button.</span></span>
6. <span data-ttu-id="deaf4-126">Elija la acción **Abrir lista de proveedores** para seleccionar otro valor de **Tipo de operación** individualmente para los proveedores si desea que la configuración sea diferente de la que seleccionó en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="deaf4-126">Choose the **Open Vendor List** action to select another **Type of Operation** value individually for vendors if you want the setting to be different from what you chose in the previous step.</span></span>

    <span data-ttu-id="deaf4-127">Se abre una página especial que incluye el campo **Tipo de operación de DIOT**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-127">A special page opens, which includes the **DIOT Type of Operation** field.</span></span> <span data-ttu-id="deaf4-128">Aquí debe configurar los conceptos de la DIOT, que es una especie de configuración de la forma en que se recopilan las entradas de IVA para el informe.</span><span class="sxs-lookup"><span data-stu-id="deaf4-128">Here you must set up DIOT concepts, which is a sort of setup of how VAT entries are collected for the report.</span></span>
7. <span data-ttu-id="deaf4-129">Seleccione la acción **Abrir conceptos de DIOT**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-129">Choose the **Open DIOT Concepts** action.</span></span>

    <span data-ttu-id="deaf4-130">Verá una lista de conceptos de DIOT predefinidos que se parecen a la configuración del IVA.</span><span class="sxs-lookup"><span data-stu-id="deaf4-130">You will see a list of predefined DIOT concepts that look like VAT setup.</span></span> <span data-ttu-id="deaf4-131">Estos conceptos de DIOT deben enlazarse con grupos de contabilización de productos de IVA y grupos de contabilización empresarial de IVA.</span><span class="sxs-lookup"><span data-stu-id="deaf4-131">These DIOT concepts must be linked to VAT product posting groups and VAT business posting groups.</span></span> <span data-ttu-id="deaf4-132">Es posible que no tenga que enlazar todos los conceptos de DIOT.</span><span class="sxs-lookup"><span data-stu-id="deaf4-132">You may not have to link all of the DIOT concepts.</span></span> <span data-ttu-id="deaf4-133">Investigue cada concepto de DIOT y decida cómo asignarlos en su configuración de contabilización del IVA.</span><span class="sxs-lookup"><span data-stu-id="deaf4-133">Investigate each DIOT concept and decide how these map to your VAT posting setup.</span></span>

    <span data-ttu-id="deaf4-134">La adición de un enlace a un concepto de DIOT se realiza haciendo clic en el número del campo **Recuento de enlaces de IVA**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-134">Adding a link to a DIOT concept is done by clicking the number in the **VAT Link Count** field.</span></span> <span data-ttu-id="deaf4-135">Tenga en cuenta que no todos los conceptos de DIOT deben estar vinculados.</span><span class="sxs-lookup"><span data-stu-id="deaf4-135">Note, that not all DIOT concepts must be linked.</span></span> <span data-ttu-id="deaf4-136">Los conceptos de DIOT con **Ninguno** en el campo **Tipo de columna** existen por razones de legado y no se pueden vincular.</span><span class="sxs-lookup"><span data-stu-id="deaf4-136">DIOT concepts with **None** in the **Column Type** field exist for legacy reasons and cannot be linked.</span></span> <span data-ttu-id="deaf4-137">Para los registros en los que no se ha llenado el campo **Recuento de enlaces de IVA** no se rellena, debería investigar si tiene entradas de IVA que entran en este concepto de DIOT y agregar el enlace correspondiente.</span><span class="sxs-lookup"><span data-stu-id="deaf4-137">For records where the **VAT Link Count** field is not filled in, you should investigate if you have VAT entries that fall under this DIOT concept and add the corresponding link.</span></span> <span data-ttu-id="deaf4-138">Los registros de DIOT donde se ha llenado el campo **Recuento de enlaces de IVA** indican que los enlaces ya están creados o no tienen que ser creados.</span><span class="sxs-lookup"><span data-stu-id="deaf4-138">DIOT records where the **VAT Link Count** field is filled in indicate that links are already created or do not have to be created.</span></span>

8. <span data-ttu-id="deaf4-139">Elija el botón **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-139">Choose the **Next** button.</span></span>

    <span data-ttu-id="deaf4-140">La configuración de DIOT ha terminado.</span><span class="sxs-lookup"><span data-stu-id="deaf4-140">The setup of DIOT is now finished.</span></span>
9. <span data-ttu-id="deaf4-141">Elija el botón **Terminar**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-141">Choose the **Finish** button.</span></span>

## <a name="optional-setup-for-reporting-witholding-tax-with-the-diot-extension"></a><span data-ttu-id="deaf4-142">Configuración opcional para la generación de informes de retención de impuestos con la extensión de DIOT</span><span class="sxs-lookup"><span data-stu-id="deaf4-142">Optional Setup for Reporting Witholding Tax with the DIOT Extension</span></span>
<span data-ttu-id="deaf4-143">El informe de DIOT exporta datos que incluyen importes de retención de impuestos para transacciones de proveedores.</span><span class="sxs-lookup"><span data-stu-id="deaf4-143">The DIOT report exports data including witholding tax amounts for vendor transactions.</span></span> <span data-ttu-id="deaf4-144">El cálculo de la retención de impuestos no se admite actualmente en la versión mexicana de [!INCLUDE[d365fin](../../includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="deaf4-144">Calculation of witholding tax is currently not supported in the Mexican version of [!INCLUDE[d365fin](../../includes/d365fin_md.md)].</span></span> <span data-ttu-id="deaf4-145">Para evitarlo, se pueden contabilizar líneas adicionales en una cuenta mayor predefinida.</span><span class="sxs-lookup"><span data-stu-id="deaf4-145">To work around this, you can post extra lines to a predefined general ledger account.</span></span> <span data-ttu-id="deaf4-146">La extensión de DIOT admite la generación de informes de datos de retención de impuestos de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="deaf4-146">The DIOT extension supports reporting witholding tax data in the following way:</span></span>

<span data-ttu-id="deaf4-147">La tabla **Configuración de la contabilización del IVA** tiene un nuevo campo **% DE RET. DE DIOT**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-147">The **VAT Posting Setup** table has a new field, **DIOT WHT %**.</span></span> <span data-ttu-id="deaf4-148">Al configurar este campo en un valor distinto de cero, usted indica que todas las entradas contabilizadas con esta configuración deben considerarse como si se hubieran contabilizado con ese importe de IVA retenido.</span><span class="sxs-lookup"><span data-stu-id="deaf4-148">By setting this field to a value other than zero, you indicate that all entries posted with this setup are to be considered as if they were posted with that amount of VAT withheld.</span></span>

<span data-ttu-id="deaf4-149">Por ejemplo, si tiene transacciones que se supone que involucran un 10% de IVA y un 5% de retención de impuestos, utilice una configuración de contabilización en la que el campo **% de IVA** contiene *10* y el campo **% DE RET DE DIOT** contiene *5*.</span><span class="sxs-lookup"><span data-stu-id="deaf4-149">For example, if you have transactions that are supposed to be 10% VAT and 5% witholding tax, use a posting setup where the **VAT %** field contains *10* and the **DIOT WHT %** field contains *5*.</span></span>  

<span data-ttu-id="deaf4-150">Este campo únicamente afectará a los cálculos del informe DIOT y no a la contabilización real de las líneas/entradas/documentos, por lo que debe continuar con la solución alternativa existente que puede tener para el cálculo de la retención de impuestos, independientemente de la configuración de la extensión del informe DIOT.</span><span class="sxs-lookup"><span data-stu-id="deaf4-150">This field will only affect the DIOT report calculations and not the actual posting of the lines/entries/documents, so you must continue the existing workaround that you may have for calculating witholding tax, regardless of setting up the DIOT Report extension.</span></span>

### <a name="to-create-an-export-of-diot-report-files"></a><span data-ttu-id="deaf4-151">Para crear una exportación de archivos de informe DIOT</span><span class="sxs-lookup"><span data-stu-id="deaf4-151">To create an export of DIOT report files</span></span>  
1. <span data-ttu-id="deaf4-152">Elija el icono ![bombilla que abre la función Dígame](../../media/ui-search/search_small.png) "Dígame que desea hacer"), escriba **Crear informe DIOT** y luego elija el enlace relacionado.</span><span class="sxs-lookup"><span data-stu-id="deaf4-152">Choose the ![Lightbulb that opens the Tell Me feature](../../media/ui-search/search_small.png) "Tell me what you want to do") icon, enter **Create DIOT Report**, and then choose the related link.</span></span>  
2. <span data-ttu-id="deaf4-153">En la página de solicitud **Crear informe DIOT**, establezca los campos **Fecha de inicio** y **Fecha de finalización** para representar el período del que desea informar.</span><span class="sxs-lookup"><span data-stu-id="deaf4-153">On the **Create DIOT report** request page, set the **Starting Date** and **Ending Date** fields to represent the period for which you wish to report.</span></span>
3. <span data-ttu-id="deaf4-154">Elija el botón **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-154">Choose the **OK** button.</span></span>

    <span data-ttu-id="deaf4-155">Es posible que se produzca un error con respecto al campo **n.° de RFC**</span><span class="sxs-lookup"><span data-stu-id="deaf4-155">You may get an error regarding the **RFC No.**</span></span> <span data-ttu-id="deaf4-156">que tiene que configurarse en los proveedores locales.</span><span class="sxs-lookup"><span data-stu-id="deaf4-156">field, which needs to be set up on local vendors.</span></span> <span data-ttu-id="deaf4-157">Para configurarlo, rellene el campo **n.° de RFC**</span><span class="sxs-lookup"><span data-stu-id="deaf4-157">To set this up, fill in the **RFC No.**</span></span> <span data-ttu-id="deaf4-158">en la pestaña **Pagos** en la página **Ficha del proveedor**.</span><span class="sxs-lookup"><span data-stu-id="deaf4-158">field on the **Payments** tab on the **Vendor Card** page.</span></span>

<span data-ttu-id="deaf4-159">Cuando el informe se ejecute sin errores, se le pedirá que guarde el archivo **Diot.txt**, que luego puede enviar a las autoridades.</span><span class="sxs-lookup"><span data-stu-id="deaf4-159">When the report runs without errors, you will be prompted to save the file **Diot.txt**, which you can then send to authorities.</span></span>

## <a name="see-also"></a><span data-ttu-id="deaf4-160">Consulte también</span><span class="sxs-lookup"><span data-stu-id="deaf4-160">See Also</span></span>
<span data-ttu-id="deaf4-161">[Personalizar [!INCLUDE[d365fin](../../includes/d365fin_md.md)] con extensiones](../../ui-extensions.md)</span><span class="sxs-lookup"><span data-stu-id="deaf4-161">[Customizing [!INCLUDE[d365fin](../../includes/d365fin_md.md)] Using Extensions](../../ui-extensions.md)</span></span>  
[<span data-ttu-id="deaf4-162">Introducción</span><span class="sxs-lookup"><span data-stu-id="deaf4-162">Getting Started</span></span>](../../product-get-started.md)
